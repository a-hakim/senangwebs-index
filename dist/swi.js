!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SWI=t():e.SWI=t()}(this,()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t,n){return t=r(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],r(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,i,r,a){var s=i&&i.prototype instanceof c?i:c,u=Object.create(s.prototype);return l(u,"_invoke",function(n,i,r){var a,c,s,u=0,l=r||[],f=!1,h={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return a=t,c=0,s=e,h.n=n,o}};function d(n,i){for(c=n,s=i,t=0;!f&&u&&!r&&t<l.length;t++){var r,a=l[t],d=h.p,p=a[2];n>3?(r=p===i)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=d&&((r=n<2&&d<a[1])?(c=0,h.v=i,h.n=a[1]):d<p&&(r=n<3||a[0]>i||i>p)&&(a[4]=n,a[5]=i,h.n=p,c=0))}if(r||n>1)return o;throw f=!0,i}return function(r,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,p),c=l,s=p;(t=c<2?e:s)||!f;){a||(c?c<3?(c>1&&(h.n=-1),d(c,s)):h.n=s:h.v=s);try{if(u=2,a){if(c||(r="next"),t=a[r]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=e}else if((t=(f=h.n<0)?s:n.call(i,h))!==o)break}catch(t){a=e,c=1,s=t}finally{u=1}}return{value:t,done:f}}}(n,r,a),!0),u}var o={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var h=[][i]?t(t([][i]())):(l(t={},i,function(){return this}),t),d=f.prototype=c.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,l(d,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,r,"GeneratorFunction"),l(d),l(d,r,"Generator"),l(d,i,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:p}})()}function l(e,t,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}l=function(e,t,n,i){function a(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},l(e,t,n,i)}function f(e,t,n,i,r,a,o){try{var c=e[a](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,r)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){f(a,i,r,o,c,"next",e)}function c(e){f(a,i,r,o,c,"throw",e)}o(void 0)})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}e.d(t,{default:()=>P});var y,m,b,w=function(){return g(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,e),!t.container)throw new Error("SWI: container selector is required");if(!t.data)throw new Error("SWI: data source is required");if(!t.itemTemplate&&"function"!=typeof t.itemTemplate)throw new Error("SWI: itemTemplate function is required");if("string"==typeof t.container){if(this.container=document.querySelector(t.container),!this.container)throw new Error("SWI: container element not found: ".concat(t.container))}else{if(!(t.container instanceof Element))throw new Error("SWI: container must be a selector string or DOM element");this.container=t.container}this.dataSource=t.data,this.itemTemplate=t.itemTemplate,this.data=[],this.filteredData=[],this.currentPage=1,this.searchConfig=this._parseSearchConfig(t.search),this.paginationConfig=this._parsePaginationConfig(t.pagination),this.eventListeners=[],this._init()},[{key:"_parseSearchConfig",value:function(e){return e?"boolean"==typeof e?{enabled:e}:{enabled:!1!==e.enabled,selector:e.selector||null,searchKey:e.searchKey||"name",inputElement:null,actionElement:null}:{enabled:!1}}},{key:"_parsePaginationConfig",value:function(e){return e?"boolean"==typeof e?{enabled:e,itemsPerPage:10}:{enabled:!1!==e.enabled,selector:e.selector||null,itemsPerPage:e.itemsPerPage||10,containerElement:null}:{enabled:!1,itemsPerPage:10}}},{key:"_debounce",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){return e.apply(n,a)},i)}}},{key:"showLoading",value:function(){this.container.innerHTML='\n      <div class="swi-loading">\n        <div class="swi-spinner"></div>\n        <p>Loading data...</p>\n      </div>\n    '}},{key:"hideLoading",value:function(){var e=this.container.querySelector(".swi-loading");e&&e.remove()}},{key:"showError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.container.innerHTML='\n      <div class="swi-error">\n        <div class="swi-error-icon">‚ö†Ô∏è</div>\n        <h3>'.concat(e,"</h3>\n        ").concat(t?'<p class="swi-error-details">'.concat(t,"</p>"):"",'\n        <button class="swi-error-retry" onclick="location.reload()">Retry</button>\n      </div>\n    ')}},{key:"_init",value:(t=h(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.showLoading(),e.n=1,this._loadData();case 1:this.hideLoading(),this.searchConfig.enabled&&this.searchConfig.selector&&this._setupSearch(),this.paginationConfig.enabled&&this.paginationConfig.selector&&(this.paginationConfig.containerElement=document.querySelector(this.paginationConfig.selector)),this.render(),e.n=3;break;case 2:throw e.p=2,t=e.v,console.error("SWI: Initialization failed",t),this.showError("Failed to load data",t.message),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return t.apply(this,arguments)})},{key:"_loadData",value:(e=h(u().m(function e(){var t,n,i;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!Array.isArray(this.dataSource)){e.n=2;break}if(!(this.dataSource.length>0&&"object"!==s(this.dataSource[0]))){e.n=1;break}throw new Error("SWI: Data items must be objects");case 1:this.data=this.dataSource,this.filteredData=o(this.data),e.n=10;break;case 2:if("string"!=typeof this.dataSource){e.n=10;break}return e.p=3,e.n=4,fetch(this.dataSource);case 4:if((t=e.v).ok){e.n=5;break}throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));case 5:return e.n=6,t.json();case 6:if(n=e.v,Array.isArray(n)){e.n=7;break}throw new Error("Data must be an array of objects");case 7:if(!(n.length>0&&"object"!==s(n[0]))){e.n=8;break}throw new Error("Data items must be objects");case 8:this.data=n,this.filteredData=o(this.data),e.n=10;break;case 9:throw e.p=9,i=e.v,console.error("SWI: Failed to load data",i),i;case 10:return e.a(2)}},e,this,[[3,9]])})),function(){return e.apply(this,arguments)})},{key:"_setupSearch",value:function(){var e=this,t=document.querySelector(this.searchConfig.selector);if(t&&(this.searchConfig.inputElement=t.querySelector('input[type="text"]'),this.searchConfig.inputElement)){var n=this._debounce(function(t){e.search(t.target.value)},300);this.searchConfig.inputElement.addEventListener("input",n),this.eventListeners.push({element:this.searchConfig.inputElement,event:"input",handler:n})}}},{key:"search",value:function(e){var t=Array.isArray(this.searchConfig.searchKey)?this.searchConfig.searchKey:[this.searchConfig.searchKey];if(e&&""!==e.trim()){var n=e.toLowerCase();this.filteredData=this.data.filter(function(e){return t.some(function(t){var i=e[t];return i&&i.toString().toLowerCase().includes(n)})})}else this.filteredData=o(this.data);this.currentPage=1,this.render()}},{key:"render",value:function(){var e=this;this.container.innerHTML="";var t=this._getPaginatedData();if(0===t.length){var n=0===this.data.length?"No data available":"No results found. Try a different search term.";return this.container.innerHTML='\n        <div class="swi-empty-state">\n          <div class="swi-empty-icon">üì≠</div>\n          <h3>No Results</h3>\n          <p>'.concat(n,"</p>\n        </div>\n      "),void(this.paginationConfig.enabled&&this.paginationConfig.containerElement&&(this.paginationConfig.containerElement.innerHTML=""))}t.forEach(function(t){var n=e.itemTemplate(t),i=e._createElementFromHTML(n);e.container.appendChild(i)}),this.paginationConfig.enabled&&this.paginationConfig.containerElement&&this._renderPagination()}},{key:"_getPaginatedData",value:function(){if(!this.paginationConfig.enabled)return this.filteredData;var e=(this.currentPage-1)*this.paginationConfig.itemsPerPage,t=e+this.paginationConfig.itemsPerPage;return this.filteredData.slice(e,t)}},{key:"_renderPagination",value:function(){var e=this,t=Math.ceil(this.filteredData.length/this.paginationConfig.itemsPerPage);if(t<=1)this.paginationConfig.containerElement.innerHTML="";else{var n='<ul class="swi-pagination-list">';n+='\n      <li class="swi-pagination-item '.concat(1===this.currentPage?"swi-disabled":"",'">\n        <button class="swi-pagination-btn" data-page="').concat(this.currentPage-1,'" ').concat(1===this.currentPage?"disabled":"",">\n          Previous\n        </button>\n      </li>\n    ");for(var i=1;i<=t;i++)n+='\n        <li class="swi-pagination-item '.concat(i===this.currentPage?"swi-active":"",'">\n          <button class="swi-pagination-btn" data-page="').concat(i,'">\n            ').concat(i,"\n          </button>\n        </li>\n      ");n+='\n      <li class="swi-pagination-item '.concat(this.currentPage===t?"swi-disabled":"",'">\n        <button class="swi-pagination-btn" data-page="').concat(this.currentPage+1,'" ').concat(this.currentPage===t?"disabled":"",">\n          Next\n        </button>\n      </li>\n    "),n+="</ul>",this.paginationConfig.containerElement.innerHTML=n,this.paginationConfig.containerElement.querySelectorAll(".swi-pagination-btn").forEach(function(n){var i=function(i){i.preventDefault();var r=parseInt(n.dataset.page);r>=1&&r<=t&&e.goToPage(r)};n.addEventListener("click",i),e.eventListeners.push({element:n,event:"click",handler:i})})}}},{key:"goToPage",value:function(e){var t=Math.ceil(this.filteredData.length/this.paginationConfig.itemsPerPage);e<1||e>t||(this.currentPage=e,this.render())}},{key:"_createElementFromHTML",value:function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}},{key:"destroy",value:function(){this.eventListeners.forEach(function(e){var t=e.element,n=e.event,i=e.handler;t.removeEventListener(n,i)}),this.container&&(this.container.innerHTML=""),this.paginationConfig.containerElement&&(this.paginationConfig.containerElement.innerHTML=""),this.data=[],this.filteredData=[],this.eventListeners=[]}}]);var e,t}(),E=function(){function e(){d(this,e)}return g(e,null,[{key:"init",value:function(){document.querySelectorAll("[data-swi-id]").forEach(function(t){try{var n=e.createInstance(t);if(n){var i=t.getAttribute("data-swi-id");e.instances.set(i,n)}}catch(e){console.error("SWI: Failed to initialize declarative instance",e)}})}},{key:"createInstance",value:function(t){var n=t.getAttribute("data-swi-id"),i=t.getAttribute("data-swi-source");if(!n||!i)return console.warn("SWI: data-swi-id and data-swi-source are required"),null;var r=parseInt(t.getAttribute("data-swi-page-size"))||10,a=t.getAttribute("data-swi-search-key")||"name",o=t.querySelector('[data-swi-template="item"]');if(!o)return console.warn('SWI: data-swi-template="item" element not found'),null;var c=o.parentElement,s=t.querySelector("[data-swi-search-input]"),u=t.querySelector("[data-swi-search-action]"),l=t.querySelector("[data-swi-pagination]"),f=c;if(c===t){var h=document.createElement("div");h.className="swi-item-container",o.parentElement.insertBefore(h,o),f=h}o.style.display="none";var d={container:f,data:i,itemTemplate:e.createTemplateFunction(o),pagination:{enabled:!!l,selector:l?"#".concat(l.id||"swi-pagination-"+n):null,itemsPerPage:r},search:{enabled:!!s,selector:null,searchKey:a,inputElement:s,actionElement:u}};return l&&!l.id&&(l.id="swi-pagination-"+n,d.pagination.selector="#"+l.id),new S(d)}},{key:"createTemplateFunction",value:function(e){return function(t){var n=e.cloneNode(!0);return n.style.display="",n.removeAttribute("data-swi-template"),n.classList.add("swi-item"),n.querySelectorAll("[data-swi-value]").forEach(function(e){var n=e.getAttribute("data-swi-value").replace(/^item\./,"");void 0!==t[n]&&null!==t[n]&&(e.textContent=t[n])}),n.outerHTML}}},{key:"getInstance",value:function(t){return e.instances.get(t)}},{key:"destroyAll",value:function(){e.instances.forEach(function(e){e.destroy()}),e.instances.clear()}}])}();y=E,m="instances",b=new Map,(m=v(m))in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b;var S=function(e){function t(e){var i,r,a;return d(this,t),(a=n(this,t,[{container:e.container,data:e.data,itemTemplate:e.itemTemplate,search:e.search||{enabled:!1},pagination:e.pagination||{enabled:!1}}])).searchConfig.inputElement=(null===(i=e.search)||void 0===i?void 0:i.inputElement)||null,a.searchConfig.actionElement=(null===(r=e.search)||void 0===r?void 0:r.actionElement)||null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e),g(t,[{key:"_init",value:(i=h(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.showLoading(),e.n=1,this._loadData();case 1:this.hideLoading(),this.searchConfig.enabled&&this.searchConfig.inputElement&&this._setupDeclarativeSearch(),this.paginationConfig.enabled&&this.paginationConfig.selector&&(this.paginationConfig.containerElement=document.querySelector(this.paginationConfig.selector)),this.render(),e.n=3;break;case 2:throw e.p=2,t=e.v,console.error("SWI: Initialization failed",t),this.showError("Failed to load data",t.message),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return i.apply(this,arguments)})},{key:"_setupDeclarativeSearch",value:function(){var e=this,t=this.searchConfig.inputElement,n=this.searchConfig.actionElement;if(t){var i=this._debounce(function(t){e.search(t.target.value)},300);if(t.addEventListener("input",i),this.eventListeners.push({element:t,event:"input",handler:i}),n){var r=function(n){n.preventDefault(),e.search(t.value)};n.addEventListener("click",r),this.eventListeners.push({element:n,event:"click",handler:r})}}}}]);var i}(w);"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){E.init()}):E.init());const P=w;return"undefined"!=typeof window&&(window.SenangWebsIndex=w,window.SWI=w,window.SWIDeclarativeHandler=E),t=t.default})());